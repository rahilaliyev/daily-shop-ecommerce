{"version":3,"sources":["components/Main/ProductDetails.js"],"names":["ProductDetails","productData","useSelector","state","product","productId","useParams","dispatch","useDispatch","axiosProductDetails","id","a","axios","get","catch","err","console","log","res","selectedProduct","data","useEffect","removeSelectedProduct","useState","open","setOpen","handleClick","action","to","className","Object","keys","length","src","image","alt","title","description","price","onClick","item","addToBasket","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","reason","message"],"mappings":"4RAyFeA,UA3EQ,WACrB,IAAMC,EAAcC,aAAY,SAACC,GAAD,OAAWA,EAAMC,WACzCC,EAAcC,cAAdD,UACFE,EAAWC,cAEXC,EAAmB,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACRC,IACfC,IADe,4CAC0BH,IACzCI,OAAM,SAACC,GACNC,QAAQC,IAAI,QAASF,MAJC,OACpBG,EADoB,OAM1BX,EAASY,YAAgBD,EAAIE,OANH,2CAAH,sDASzBC,qBAAU,WAER,OADIhB,GAA2B,KAAdA,GAAkBI,EAAoBJ,GAChD,WACLE,EAASe,kBAEV,IAEH,IAMA,EAAwBC,oBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAOMC,EAAc,WAClBD,GAAQ,IAEJE,EAAS,cAAC,IAAD,CAAMC,GAAG,UAAT,8BAGf,OACE,qBAAKC,UAAU,kBAAf,SACuC,IAApCC,OAAOC,KAAK9B,GAAa+B,OACxB,cAAC,IAAD,IAEA,sBAAKH,UAAU,oCAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,qBAAKI,IAAKhC,EAAYiC,MAAOC,IAAI,cAEnC,sBAAKN,UAAU,qBAAf,UACE,6BAAK5B,EAAYmC,QACjB,4BAAInC,EAAYoC,cAChB,mCAAMpC,EAAYqC,SAClB,yBAAQC,QAAS,kBAhCRC,EAgCwBvC,EA/BzCM,EAASkC,YAAYD,SACrBd,IAFgB,IAACc,GAgCT,UACE,cAAC,IAAD,IADF,oBAKF,cAAC,IAAD,CACEE,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdpB,KAAMA,EACNG,OAAQA,EACRkB,iBAAkB,IAClBC,QAtCU,SAACC,GACJ,cAAXA,GAGJtB,GAAQ,IAmCAuB,QAAQ","file":"static/js/9.e3d58fa8.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  addToBasket,\r\n  selectedProduct,\r\n  removeSelectedProduct,\r\n} from \"../../redux/actions/actions\";\r\nimport \"./ProductDetails.scss\";\r\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport Loading from \"../Loading/Loading\";\r\n\r\nconst ProductDetails = () => {\r\n  const productData = useSelector((state) => state.product);\r\n  const { productId } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const axiosProductDetails = async (id) => {\r\n    const res = await axios\r\n      .get(`https://fakestoreapi.com/products/${id}`)\r\n      .catch((err) => {\r\n        console.log(\"Err: \", err);\r\n      });\r\n    dispatch(selectedProduct(res.data));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (productId && productId !== \"\") axiosProductDetails(productId);\r\n    return () => {\r\n      dispatch(removeSelectedProduct());\r\n    };\r\n  }, []);\r\n\r\n  const addBasket = (item) => {\r\n    dispatch(addToBasket(item));\r\n    handleClick();\r\n  };\r\n\r\n  //START for making Snackbar\r\n  const [open, setOpen] = useState(false);\r\n  const handleClose = (reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setOpen(false);\r\n  };\r\n  const handleClick = () => {\r\n    setOpen(true);\r\n  };\r\n  const action = <Link to=\"/basket\">Go to the basket</Link>;\r\n  // END for making Snackbar\r\n\r\n  return (\r\n    <div className=\"productDetails \">\r\n      {Object.keys(productData).length === 0 ? (\r\n        <Loading />\r\n      ) : (\r\n        <div className=\"productDetailsContainer container\">\r\n          <div className=\"productDetailsImage\">\r\n            <img src={productData.image} alt=\"Product\" />\r\n          </div>\r\n          <div className=\"productDetailsText\">\r\n            <h2>{productData.title}</h2>\r\n            <p>{productData.description}</p>\r\n            <p>$ {productData.price}</p>\r\n            <button onClick={() => addBasket(productData)}>\r\n              <ShoppingCartIcon /> Add basket\r\n            </button>\r\n          </div>\r\n\r\n          <Snackbar\r\n            anchorOrigin={{\r\n              vertical: \"bottom\",\r\n              horizontal: \"left\",\r\n            }}\r\n            open={open}\r\n            action={action}\r\n            autoHideDuration={3000}\r\n            onClose={handleClose}\r\n            message=\"Your product was added.\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n"],"sourceRoot":""}